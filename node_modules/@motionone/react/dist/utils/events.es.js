import { useEffect } from 'react';

function addDomEvent(target, eventName, handler, options) {
    target.addEventListener(eventName, handler, options);
    return () => target.removeEventListener(eventName, handler, options);
}
const domEventName = (propName) => propName.replace("on", "").toLowerCase();
function useEvents(ref, handlers) {
    useEffect(() => {
        const subscriptions = Object.keys(handlers).map((name) => addDomEvent(ref.current, domEventName(name), handlers[name]));
        return () => {
            subscriptions.forEach((subscription) => subscription());
        };
    });
}

export { addDomEvent, useEvents };
